<div class="my-events-container">
  <div class="tabs">
    <button [class.active]="activeTab === 'all'" (click)="switchTab('all')">Táº¥t cáº£</button>
    <button [class.active]="activeTab === 'tickets'" (click)="switchTab('tickets')">VÃ© cá»§a tÃ´i</button>
    <button [class.active]="activeTab === 'saved'" (click)="switchTab('saved')">ÄÃ£ lÆ°u</button>
    <button [class.active]="activeTab === 'created'" (click)="switchTab('created')">ÄÃ£ táº¡o</button>
  </div>

  <div class="event-list">
    <!-- VÃ© cá»§a tÃ´i section -->
    <div class="event-section" *ngIf="shouldShowSection('tickets')">
      <h2 class="event-header">VÃ© cá»§a tÃ´i</h2>
      <div class="event-container">
        <div class="event-items">
          <div *ngFor="let event of ticketEvents" class="event-card" (click)="navigateToEventDetail(event.id)">
            <div class="event-img-container">
              <img [src]="event.event_image" [alt]="event.event_name" class="event-img">
            </div>
            <div class="event-details">
              <span class="event-location">{{ event.location.city }}</span>
              <h3 class="event-title">{{ event.event_name }}</h3>
              <div class="event-meta">
                <span class="event-time">{{ event.hour_start }} â€¢ {{ event.start_date | date:'dd/MM/yyyy' }}</span>
                <span>{{ event.location.name }}</span>
                <span>{{ event.location.address }}</span>
              </div>
              <div class="event-participants">
                <div class="participant-count">
                  <span class="participant-icon">ğŸ‘¥</span>
                  <span>{{ event.current_participant }}/{{ event.max_participant }}</span>
                </div>
                <div class="participant-progress">
                  <div class="participant-progress-bar" 
                       [style.width.%]="(event.current_participant / event.max_participant) * 100">
                  </div>
                </div>
              </div>
              <div class="actions">
                <button (click)="viewTicket(event, $event)">Xem vÃ©</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ÄÃ£ lÆ°u section -->
    <div class="event-section" *ngIf="shouldShowSection('saved')">
      <h2 class="event-header">ÄÃ£ lÆ°u</h2>
      <div class="event-container">
        <div class="event-items">
          <div *ngFor="let event of savedEvents" class="event-card" (click)="navigateToEventDetail(event.id)">
            <div class="event-img-container">
              <img [src]="event.event_image" [alt]="event.event_name" class="event-img">
            </div>
            <div class="event-details">
              <span class="event-location">{{ event.location.city }}</span>
              <h3 class="event-title">{{ event.event_name }}</h3>
              <div class="event-meta">
                <span class="event-time">{{ event.hour_start }} â€¢ {{ event.start_date | date:'dd/MM/yyyy' }}</span>
                <span>{{ event.location.name }}</span>
                <span>{{ event.location.address }}</span>
              </div>
              <div class="event-participants">
                <div class="participant-count">
                  <span class="participant-icon">ğŸ‘¥</span>
                  <span>{{ event.current_participant }}/{{ event.max_participant }}</span>
                </div>
                <div class="participant-progress">
                  <div class="participant-progress-bar" 
                       [style.width.%]="(event.current_participant / event.max_participant) * 100">
                  </div>
                </div>
              </div>
              <div class="actions">
                <button (click)="unsaveEvent(event, $event)">Bá» lÆ°u</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ÄÃ£ táº¡o section -->
    <div class="event-section" *ngIf="shouldShowSection('created')">
      <h2 class="event-header">ÄÃ£ táº¡o</h2>
      <div class="event-container">
        <div class="event-items">
          <div *ngFor="let event of createdEvents" class="event-card" (click)="navigateToEventDetail(event.id)">
            <div class="event-img-container">
              <img [src]="event.event_image" [alt]="event.event_name" class="event-img">
            </div>
            <div class="event-details">
              <span class="event-location">{{ event.location.city }}</span>
              <h3 class="event-title">{{ event.event_name }}</h3>
              <div class="event-meta">
                <span class="event-time">{{ event.hour_start }} â€¢ {{ event.start_date | date:'dd/MM/yyyy' }}</span>
                <span>{{ event.location.name }}</span>
                <span>{{ event.location.address }}</span>
              </div>
              <div class="event-participants">
                <div class="participant-count">
                  <span class="participant-icon">ğŸ‘¥</span>
                  <span>{{ event.current_participant }}/{{ event.max_participant }}</span>
                </div>
                <div class="participant-progress">
                  <div class="participant-progress-bar" 
                       [style.width.%]="(event.current_participant / event.max_participant) * 100">
                  </div>
                </div>
              </div>
              <div class="actions">
                <button (click)="editEvent(event, $event)">Chá»‰nh sá»­a</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>