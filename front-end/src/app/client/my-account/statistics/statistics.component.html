<div class="statistics-container">
  <div class="header">
    <h2>Thống kê sự kiện</h2>
    <div class="filters">
      <div class="search-box">
        <input type="text" placeholder="Mã sự kiện/Tên sự kiện" [(ngModel)]="searchQuery">
      </div>
      <div class="date-range">
        <input type="date" [(ngModel)]="startDate">
        <span>đến</span>
        <input type="date" [(ngModel)]="endDate">
      </div>
    </div>
  </div>

  <div class="statistics-grid">
    <div class="stat-card">
      <h3>Tổng số sự kiện</h3>
      <div class="stat-value">{{totalEvents}}</div>
    </div>
    <div class="stat-card">
      <h3>Tổng số người tham gia</h3>
      <div class="stat-value">{{totalParticipants}}</div>
    </div>
    <div class="stat-card">
      <h3>Tổng doanh thu</h3>
      <div class="stat-value">{{totalRevenue | currency:'VND':'symbol':'1.0-0'}}</div>
    </div>
  </div>

  <div class="charts-container">
    <div class="chart-card">
      <div class="chart-header">
        <h3>Doanh thu theo ngày</h3>
        <div class="chart-controls">
          <select [(ngModel)]="revenueMetric">
            <option value="daily">Ngày</option>
            <option value="weekly">Tuần</option>
            <option value="monthly">Tháng</option>
          </select>
        </div>
      </div>
      <div class="chart">
        <!-- Line chart will be rendered here -->
        <canvas #revenueChart></canvas>
      </div>
    </div>

    <div class="chart-card">
      <div class="chart-header">
        <h3>Tỉ lệ doanh thu trên sự kiện</h3>
        <div class="chart-controls">
          <select [(ngModel)]="distributionMetric">
            <option value="revenue">Doanh thu</option>
            <option value="participants">Người tham gia</option>
          </select>
        </div>
      </div>
      <div class="chart">
        <!-- Pie chart will be rendered here -->
        <canvas #distributionChart></canvas>
      </div>
    </div>
  </div>

  <div class="action-buttons">
    <button class="btn-export" (click)="exportData()">Đề xuất cải tiến</button>
    <button class="btn-home" (click)="backToHome()">Trở về trang chủ</button>
  </div>
</div> 