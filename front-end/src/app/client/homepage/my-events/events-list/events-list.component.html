<div class="event-list">
  <div class="event-header">
    <h2>{{ title || 'S·ª± ki·ªán c·ªßa t√¥i' }}</h2>
  </div>

  <!-- Loading spinner -->
  <div *ngIf="isLoading" class="loading-spinner">
    <div class="spinner"></div>
    <p>ƒêang t·∫£i s·ª± ki·ªán...</p>
  </div>

  <div class="event-container" *ngIf="!isLoading">
    <div class="event-items">
      <div *ngFor="let event of events" class="event-card" [routerLink]="['/homepage/event-information']" [queryParams]="{id: event._id}">
        <div class="event-img-container">
          <img [src]="event.event_image" [alt]="event.event_name" class="event-img">
        </div>
        <div class="event-details">
          <span class="event-location">{{ event.location.city }}</span>
          <h3 class="event-title">{{ event.event_name }}</h3>
          <p class="event-meta">
            <span class="event-time">{{ event.hour_start }} ‚Ä¢ {{ formatDate(event.start_date) }}</span>
            <span>{{ event.location.name }}</span>
            <span>{{ event.location.address }}</span>
          </p>
          
          <div class="event-participants">
            <div class="participant-count">
              <span class="participant-icon">üë•</span>
              <span>{{ event.current_participant }}/{{ event.max_participant }}</span>
            </div>
            <div class="participant-progress">
              <div class="participant-progress-bar" 
                   [style.width.%]="(event.current_participant / event.max_participant) * 100">
              </div>
            </div>
          </div>
          
          <p class="event-price" [class.free]="event.price === 0">
            {{ event.price === 0 ? 'Mi·ªÖn ph√≠' : 'Ch·ªâ t·ª´ ' + event.price + ' VND' }}
          </p>
        </div>
      </div>
    </div>

    <!-- No events message -->
    <div *ngIf="!isLoading && events.length === 0" class="no-events">
      <i class="bi bi-calendar-x"></i>
      <p>B·∫°n ch∆∞a c√≥ s·ª± ki·ªán n√†o</p>
      <button [routerLink]="['/homepage/create-event']" class="create-event-btn">T·∫°o s·ª± ki·ªán m·ªõi</button>
    </div>
  </div>
</div>
