<body>
    <div class="container vh-100 d-flex align-items-center">
        <div class="p-4">
            <div class="text-center">
                <div class="logo img-fluid"></div>
            </div>
    
            <div class="toggle-buttons d-flex justify-content-between">
                <button class="btn btn-outline-secondary" (click)="navigateToLogin()">Đăng nhập</button>
                <button class="btn btn-outline-primary active">Đăng ký</button>
            </div>
    
            <div class="signup-container">
                <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
                    <h2>Đăng ký</h2>
                    
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input 
                            type="text" 
                            id="username" 
                            formControlName="username" 
                            class="form-control">
                        <div *ngIf="signupForm.get('username')?.errors?.['required'] && signupForm.get('username')?.touched">
                            Username là bắt buộc
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Email</label>
                        <input 
                            type="email" 
                            id="email" 
                            formControlName="email" 
                            class="form-control">
                        <div *ngIf="signupForm.get('email')?.errors?.['required'] && signupForm.get('email')?.touched">
                            Email là bắt buộc
                        </div>
                        <div *ngIf="signupForm.get('email')?.errors?.['email'] && signupForm.get('email')?.touched">
                            Email không hợp lệ
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="password">Mật khẩu</label>
                        <input 
                            type="password" 
                            id="password" 
                            formControlName="password" 
                            class="form-control">
                        <div *ngIf="signupForm.get('password')?.errors?.['required'] && signupForm.get('password')?.touched">
                            Mật khẩu là bắt buộc
                        </div>
                        <div *ngIf="signupForm.get('password')?.errors?.['minlength'] && signupForm.get('password')?.touched">
                            Mật khẩu phải có ít nhất 6 ký tự
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="confirmPassword">Xác nhận mật khẩu</label>
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            formControlName="confirmPassword" 
                            class="form-control">
                        <div *ngIf="signupForm.get('confirmPassword')?.errors?.['required'] && signupForm.get('confirmPassword')?.touched">
                            Xác nhận mật khẩu là bắt buộc
                        </div>
                        <div *ngIf="signupForm.errors?.['mismatch'] && signupForm.get('confirmPassword')?.touched">
                            Mật khẩu không khớp
                        </div>
                    </div>

                    <div class="error-message" *ngIf="errorMessage">
                        {{ errorMessage }}
                    </div>

                    <button 
                        type="submit" 
                        [disabled]="!signupForm.valid"
                        class="btn-signup">
                        Đăng ký
                    </button>

                    <p class="login-link">
                        Đã có tài khoản? <a (click)="navigateToLogin()">Đăng nhập</a>
                    </p>
                </form>
            </div>
    
            <div class="social-login text-center">
                <p>Đăng ký bằng:</p>
                <div class="d-flex justify-content-center gap-2">
                    <button class="btn btn-outline-primary"><i class="fab fa-facebook-f"></i></button>
                    <button class="btn btn-outline-danger"><i class="fab fa-google"></i></button>
                    <button class="btn btn-outline-dark"><i class="fab fa-apple"></i></button>
                </div>
            </div>
        </div>
    </div>
</body>
