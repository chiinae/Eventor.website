<div class="search-page">
  <div class="search-header">
    <h2>K·∫øt qu·∫£ t√¨m ki·∫øm cho "{{searchQuery}}"</h2>
    <ng-container *ngIf="!isLoading">
      <p *ngIf="searchResults.length > 0">T√¨m th·∫•y {{searchResults.length}} k·∫øt qu·∫£</p>
      <p *ngIf="noResults">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o</p>
    </ng-container>
  </div>

  <!-- Loading spinner -->
  <div *ngIf="isLoading" class="loading-spinner">
    <div class="spinner"></div>
    <p>ƒêang t√¨m ki·∫øm...</p>
  </div>

  <!-- Search results -->
  <div class="event-container" *ngIf="!isLoading && searchResults.length > 0">
    <div class="event-items">
      <div *ngFor="let event of searchResults" class="event-card" [routerLink]="['/homepage/event-information']" [queryParams]="{id: event._id}">
        <div class="event-img-container">
          <img [src]="event.event_image" [alt]="event.event_name" class="event-img">
        </div>
        <div class="event-details">
          <span class="event-location">{{ event.location.city }}</span>
          <h3 class="event-title">{{ event.event_name }}</h3>
          <p class="event-meta">
            <span class="event-time">{{ event.hour_start }} ‚Ä¢ {{ formatDate(event.start_date) }}</span>
            <span>{{ event.location.name }}</span>
            <span>{{ event.location.address }}</span>
          </p>
          
          <div class="event-participants">
            <div class="participant-count">
              <span class="participant-icon">üë•</span>
              <span>{{ event.current_participant }}/{{ event.max_participant }}</span>
            </div>
            <div class="participant-progress">
              <div class="participant-progress-bar" 
                   [style.width.%]="(event.current_participant / event.max_participant) * 100">
              </div>
            </div>
          </div>
          
          <p class="event-price" [class.free]="event.price === 0">
            {{ event.price === 0 ? 'Mi·ªÖn ph√≠' : 'Ch·ªâ t·ª´ ' + event.price + ' VND' }}
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- No results message -->
  <div *ngIf="!isLoading && noResults" class="no-results">
    <i class="bi bi-search"></i>
    <p>Kh√¥ng t√¨m th·∫•y s·ª± ki·ªán n√†o ph√π h·ª£p v·ªõi t·ª´ kh√≥a "{{searchQuery}}"</p>
    <p>Vui l√≤ng th·ª≠ l·∫°i v·ªõi t·ª´ kh√≥a kh√°c</p>
  </div>
</div> 